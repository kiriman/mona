"use strict";function getCommentsRequest(){wrapper.innerHTML="Загрузка...";var e=new XMLHttpRequest;e.open("GET",serverUrl+"comments",!0),e.send(),e.onreadystatechange=function(){4==e.readyState&&(200!=e.status?console.error(e.status+": "+e.statusText):(wrapper.innerHTML="",comments=JSON.parse(e.responseText),addComments(comments)))}}function addComments(e){for(var t=e.length-1;t>=0;t--){var n=createCommentTemplate(e[t]),a=document.createElement("div");a.innerHTML=n,wrapper.appendChild(a)}}function createCommentTemplate(e){var t='<div class="panel panel-default" id="comment-'+e.id+'">\n	      <div class="panel-heading">\n	        <div class="row">\n	          <div class="col-sm-6">\n	            <h3 class="panel-title">'+e.name+" ("+e.email+')</h3>\n	          </div>\n	          <div class="col-sm-6">\n	            <h5 class="panel-title add-date"><span class="admin-edit">'+isEdited(e.is_edited)+"</span> "+e.create_time+'</h5>\n	          </div>\n	        </div>\n	      </div>\n	      <div class="panel-body" onclick="startEditText(\''+e.id+'\')" id="text-'+e.id+'">'+e.text+"</div>\n	    </div>";return t}function isEdited(e){return 1==e?"изменен администратором":""}function editCommentTemplate(e,t){var n='<div class="panel-body">\n			<textarea class="form-control" id="editText" rows="3" placeholder="editText">'+t+'</textarea>\n			<p>\n			<div class="form-inline">\n	    		<button class="btn btn-default" onclick="saveEditText(\''+e+'\')">Сохранить</button>\n	      		<button class="btn btn-default" onclick="cancelEditText(\''+e+"')\">Отмена</button>\n      		</div>\n		</div>";return n}function cancelEditText(e){var t=document.getElementById("text-"+e);t.style.display="block",t.parentNode.lastChild.remove()}function saveEditText(e){var t=document.getElementById("text-"+e),n=document.getElementById("editText").value;updateCommentsRequest(e,n)&&(t.innerHTML=n),t.style.display="block",t.parentNode.lastChild.remove()}function updateCommentsRequest_test(e,t){return!0}function updateCommentsRequest(e,t){var n=new XMLHttpRequest,a=JSON.stringify({id:e,editText:t});console.log(a),n.open("PUT",serverUrl+"comments",!0),n.send(a),n.onreadystatechange=function(){4==n.readyState&&(200!=n.status?console.error(n.status+": "+n.statusText):console.log(n.responseText))}}function startEditText(e){var t=document.getElementById("text-"+e),n=document.createElement("div");n.innerHTML=editCommentTemplate(e,t.innerHTML),t.style.display="none",t.parentNode.appendChild(n)}function getFormData(){var e=document.forms.feedback;e.elements.inputName,e.elements.inputEmail,e.elements.inputText,e.elements.inputFile}function tmpF(){console.log("tmpF"),console.log(document.getElementById("ku").innerHTML)}document.addEventListener("DOMContentLoaded",getCommentsRequest);var serverUrl="http://93.88.210.4:8080/api/",wrapper=document.getElementById("wrapper"),comments=[];
//# sourceMappingURL=main.min.js.map
